{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Number.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","filter","onChange","PersonForm","onSubmit","nameValue","handleNameChange","numberValue","handleNumberChange","type","Number","person","name","number","onClick","delete","baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","put","concat","Notification","_ref","message","style","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","setStyle","useEffect","personService","initialPersons","components_Filter","event","target","components_Notification","components_PersonForm","preventDefault","personTochange","find","includes","window","confirm","changedPerson","objectSpread","returnedPerson","map","setTimeout","toLowerCase","components_Number","key","removedPerson","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b6a4e06c.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => (\n    <div>\n        Rajaa: <input value={props.filter} onChange={props.onChange}  />\n    </div>\n  )\n  \nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => (\n    <form onSubmit={props.onSubmit} >\n      <div>\n        nimi: <input value={props.nameValue} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        Numero: <input value={props.numberValue} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Number = (props) => (\n    <div>\n        {props.person.name} {props.person.number}\n        <button onClick={props.delete} >Delete</button>\n    </div>\n)\n\nexport default Number","import axios from 'axios'\nconst baseUrl = \"https://blooming-journey-18989.herokuapp.com/api/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newPerson => {\n    return axios.post(baseUrl, newPerson).then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    return axios.put(`${baseUrl}/${id}`, newPerson).then(response => response.data)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { getAll, create, update, remove}\n","import React from 'react'\n\nconst Notification = ({ message, style }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={style} >\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Number from './components/Number'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState ('')\n  const [ filter, setFilter] = useState('')\n  const [ errorMessage, setErrorMessage]  = useState(null)\n  const [ style, setStyle ] = useState('')\n\n  useEffect (() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const personTochange = persons.find(person => person.name === newName)\n    \n    if (persons.includes(personTochange)) {\n      if (window.confirm(`${newName} on jo luettelossa, haluatko päivittää numeron?`)) {\n        const changedPerson = { ...personTochange, number: newNumber}\n\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : changedPerson))\n            setStyle(\"success\")\n            setErrorMessage(`Numero päivitetty onnistuneesti henkilölle ${returnedPerson.name}!`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          })\n      }\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      \n      personService\n        .create(newPerson)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setStyle(\"success\")\n          setErrorMessage(`Numero lisätty onnistuneesti henkilölle ${newPerson.name}!`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deleteNumber = (id, name) => {\n    if (window.confirm(`Haluatko poistaa käyttäjän? ${name}`)) {\n      \n      personService\n        .remove(id)\n        .then(removedPerson => {\n          setPersons(persons.filter(person => person.id !== id))\n          setStyle(\"success\")\n          setErrorMessage(`Numero poistettu onnistuneesti henkilöltä ${name}!`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          setStyle(\"error\")\n          setErrorMessage(`Seems like person ${name} has allready removed`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const numbers = () => persons\n    .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n    .map(person =>\n      <Number\n        key={person.id}\n        person={person}\n        delete={() => deleteNumber(person.id, person.name)}\n      />\n  )\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Filter\n        value={filter} \n        onChange={handleFilterChange}\n      />\n\n      <h2>Lisää uusi</h2>\n      \n      <Notification message={errorMessage} style={style} />\n\n      <PersonForm\n        onSubmit={addNumber}\n        nameValue={newName} \n        handleNameChange={handleNameChange}\n        numberValue={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numerot</h2>\n      <div>\n        {numbers()}\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}