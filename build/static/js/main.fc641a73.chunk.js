(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),c=t(11),l=t.n(c),r=t(12),o=t(2),i=function(e){return u.a.createElement("div",null,"Rajaa: ",u.a.createElement("input",{value:e.filter,onChange:e.onChange}))},m=function(e){return u.a.createElement("form",{onSubmit:e.onSubmit},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:e.nameValue,onChange:e.handleNameChange})),u.a.createElement("div",null,"Numero: ",u.a.createElement("input",{value:e.numberValue,onChange:e.handleNumberChange})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=function(e){return u.a.createElement("div",null,e.person.name," ",e.person.number,u.a.createElement("button",{onClick:e.delete},"Delete"))},f=t(3),d=t.n(f),h="/api/persons",b=function(){return d.a.get(h).then(function(e){return e.data})},v=function(e){return d.a.post(h,e).then(function(e){return e.data})},p=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},E=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},j=function(e){var n=e.message,t=e.style;return null===n?null:u.a.createElement("div",{className:t},n)},g=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],l=Object(a.useState)(""),f=Object(o.a)(l,2),d=f[0],h=f[1],g=Object(a.useState)(""),O=Object(o.a)(g,2),w=O[0],C=O[1],k=Object(a.useState)(""),N=Object(o.a)(k,2),S=N[0],y=N[1],T=Object(a.useState)(null),V=Object(o.a)(T,2),L=V[0],D=V[1],J=Object(a.useState)(""),x=Object(o.a)(J,2),B=x[0],H=x[1];Object(a.useEffect)(function(){b().then(function(e){c(e)})},[]);return u.a.createElement("div",null,u.a.createElement("h1",null,"Puhelinluettelo"),u.a.createElement(i,{value:S,onChange:function(e){y(e.target.value)}}),u.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),u.a.createElement(j,{message:L,style:B}),u.a.createElement(m,{onSubmit:function(e){e.preventDefault();var n=t.find(function(e){return e.name===d});if(t.includes(n)){if(window.confirm("".concat(d," on jo luettelossa, haluatko p\xe4ivitt\xe4\xe4 numeron?"))){var a=Object(r.a)({},n,{number:w});p(a.id,a).then(function(e){c(t.map(function(e){return e.id!==a.id?e:a})),H("success"),D("Numero p\xe4ivitetty onnistuneesti henkil\xf6lle ".concat(e.name,"!")),setTimeout(function(){D(null)},3e3)})}}else v({name:d,number:w}).then(function(e){c(t.concat(e)),H("success"),D("Numero lis\xe4tty onnistuneesti henkil\xf6lle ".concat(e.name,"!")),setTimeout(function(){D(null)},3e3)});h(""),C("")},nameValue:d,handleNameChange:function(e){h(e.target.value)},numberValue:w,handleNumberChange:function(e){C(e.target.value)}}),u.a.createElement("h2",null,"Numerot"),u.a.createElement("div",null,t.filter(function(e){return e.name.toLowerCase().includes(S.toLowerCase())}).map(function(e){return u.a.createElement(s,{key:e.id,person:e,delete:function(){return n=e.id,a=e.name,void(window.confirm("Haluatko poistaa k\xe4ytt\xe4j\xe4n? ".concat(a))&&E(n).then(function(e){c(t.filter(function(e){return e.id!==n})),H("success"),D("Numero poistettu onnistuneesti henkil\xf6lt\xe4 ".concat(a,"!")),setTimeout(function(){D(null)},3e3)}).catch(function(e){H("error"),D("Seems like person ".concat(a," has allready removed")),setTimeout(function(){D(null)},3e3),c(t.filter(function(e){return e.id!==n}))}));var n,a}})})))};t(38);l.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.fc641a73.chunk.js.map